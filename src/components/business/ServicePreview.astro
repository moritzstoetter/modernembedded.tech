---
import { Image } from "astro:assets";
import type { Service } from "../../content/config";
import { getLangFromUrl } from "../../i18n/utils";
import Box from "../ui/Box.astro";

const service: Service = Astro.props.service;

const lang = getLangFromUrl(Astro.url);
---

<Box href={`/${lang}/services/${service.slug}`}>
  <div class="relative overflow-hidden rounded-2xl h-64">
    {/* Background Image */}
    <div class="absolute inset-0">
      <Image
        src={service.image}
        alt={service.title}
        class="object-cover w-full h-full"
      />
    </div>
    
    {/* Content Grid */}
    <div class="relative h-full grid grid-cols-1 md:grid-cols-2">
      <div class="flex flex-col justify-between gap-4 px-8 py-8 bg-white/75 dark:bg-black/75 md:col-start-2">
        <h2 class="text-primaryLight dark:text-primaryDark">{service.title}</h2>
        <p>{service.description}</p>
      </div>
    </div>
  </div>
</Box>
